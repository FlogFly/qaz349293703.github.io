<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="青蛙要fly">
  <!-- Open Graph Data -->
  <meta property="og:title" content="项目需求讨论 — ConstraintLayout 详细使用教程"/>
  <meta property="og:description" content="茫茫编程路上一个迷途小小安卓程序员。" />
  <meta property="og:site_name" content="搬砖的码农"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://yoursite.com"/>
  
    <link rel="alternate" href="/atom.xml" title="搬砖的码农" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>搬砖的码农</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/images/awesome-bg.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">项目需求讨论 — ConstraintLayout 详细使用教程</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  主页
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  目录
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/qaz349293703">
                  
                  Github
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By 青蛙要fly</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2017-12-17</span>
            <span class="time">14:49:13</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/Android/">Android</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/ConstraintLayout/">#ConstraintLayout</a> <a class="tag" href="/tags/Android/">#Android</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>文章摘要：ConstraintLayout的基础知识及使用教程<br><a id="more"></a></p>
<h2 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h2><p>最近转方向参与到物联网的项目去了。看的都是C++和Node.js,表示从头学习，又变成了一个小菜鸟了。所以好久没写过文章了。</p>
<p>废话不多说，关于ConstraintLayout的文章网上一抓一大把，而且ConstraintLayout在16年就已经出来了，但是我一直没有试着去使用(别问我为什么不去使用,当然是因为懒啊)。毕竟前面的LinearLayout搭配RelativeLayout用习惯了，但是毕竟能减少布局的嵌套。还是要抱着多学习的方式去接触。所以写下文章作为总结。</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>大家都知道AS在写相关布局的时候，有二种方式：</p>
<h4 id="1-拖拽方式"><a href="#1-拖拽方式" class="headerlink" title="1. 拖拽方式"></a>1. 拖拽方式</h4><p><img src="https://user-gold-cdn.xitu.io/2017/12/14/160541929dc4d475?w=1013&amp;h=787&amp;f=png&amp;s=83890" alt=""></p>
<p>就是在这里进行拖控件，各种操作，因为在以前RelativeLayout和LinearLayout的年代，自己拖会自动帮我们添加各种属性值不说，而且还很不方便，但是对于ConstraintLayout来说添加各种约束在这里操作反而很方便，而且这里的功能面板也增加了很多新功能，方便了很多。</p>
<p>当然我也不多说，贴上郭霖大神写得在这里功能面板里面对ConstraintLayout 各种操作方式：<br><a href="http://blog.csdn.net/guolin_blog/article/details/53122387" target="_blank" rel="noopener">操作面板拖拽方式来使用ConstraintLayout</a></p>
<h4 id="2-编写代码"><a href="#2-编写代码" class="headerlink" title="2.编写代码"></a>2.编写代码</h4><p><img src="https://user-gold-cdn.xitu.io/2017/12/14/160542997a9b304f?w=1193&amp;h=621&amp;f=png&amp;s=100255" alt=""></p>
<p>这种更为大家使用，而我这里也更多的是直接写代码的方式。</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="控件如何确定自己的位置"><a href="#控件如何确定自己的位置" class="headerlink" title="控件如何确定自己的位置"></a>控件如何确定自己的位置</h3><h5 id="1-直接确定控件左上角的坐标"><a href="#1-直接确定控件左上角的坐标" class="headerlink" title="1.直接确定控件左上角的坐标"></a>1.直接确定控件左上角的坐标</h5><p>在约束布局中，一个控件如何来确定自己的位置呢，有人可能说直接写死让它在界面的（XXX,XXX）位置不就好了么。</p>
<p>比如在拖拽界面，我们把一个TextView拖到了界面中间。</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/14/16054325bb53e7b2?w=631&amp;h=548&amp;f=png&amp;s=10599" alt=""></p>
<p>我们发现这个TextView的确在中间了，这时候我们看下它的代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;android.support.constraint.ConstraintLayout</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:text=&quot;我在哪里&quot;</span><br><span class="line">        tools:layout_editor_absoluteX=&quot;164dp&quot;</span><br><span class="line">        tools:layout_editor_absoluteY=&quot;263dp&quot; /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure>
<p>我们发现了：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tools:layout_editor_absoluteX=&quot;164dp&quot;</span><br><span class="line">tools:layout_editor_absoluteY=&quot;263dp&quot;</span><br></pre></td></tr></table></figure></p>
<p>的确我们告诉了TextView的左上角的坐标，这个TextView的确可以确定了位置，但是这二个属性只是单纯的进行演示，在真机操作的时候是无效的，就像”tools:text”一样，可以在写布局的时候方便查看TextView显示的文字，但是实际运行app的时候不会有相应内容。</p>
<p>而且我们也可以看到布局文件中有错误提示，也告诉我们在真实运行时候会跳到(0,0)位置：</p>
<blockquote>
<p>This view is not constrained, it only has designtime positions, so it will jump to (0,0) unless you add constraints less…</p>
</blockquote>
<h5 id="2-告诉控件相邻的二个边的位置情况"><a href="#2-告诉控件相邻的二个边的位置情况" class="headerlink" title="2.告诉控件相邻的二个边的位置情况"></a>2.告诉控件相邻的二个边的位置情况</h5><p>如下图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/14/16054431d50c90cc?w=243&amp;h=374&amp;f=png&amp;s=2944" alt=""></p>
<p><strong>我们怎么来确定它们的位置？比如我们红色的矩形A，我们是不是告诉它：你的左边靠着外面界面的左边，你的顶边靠着外面界面的顶边（然后是不是A就处在现在这个位置了）。绿色的矩形B我们可以告诉它：你的右边靠着外面界面的右边，你的底边靠着外面界面的底边（然后B就处在了现在这个位置）。</strong></p>
<p>所以基本操作就是：确定某个控件二个边的位置（比如靠在哪个控件旁边）。</p>
<p>我们来看最简单的基本操作：<br><strong>layout<em>constraint[自己位置]</em>[目标位置]=”[目标ID]”</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">layout_constraintLeft_toLeftOf</span><br><span class="line">layout_constraintLeft_toRightOf</span><br><span class="line">layout_constraintRight_toLeftOf</span><br><span class="line">layout_constraintRight_toRightOf</span><br><span class="line">layout_constraintTop_toTopOf</span><br><span class="line">layout_constraintTop_toBottomOf</span><br><span class="line">layout_constraintBottom_toTopOf</span><br><span class="line">layout_constraintBottom_toBottomOf</span><br><span class="line">layout_constraintBaseline_toBaselineOf</span><br><span class="line">layout_constraintStart_toEndOf</span><br><span class="line">layout_constraintStart_toStartOf</span><br><span class="line">layout_constraintEnd_toStartOf</span><br><span class="line">layout_constraintEnd_toEndOf</span><br></pre></td></tr></table></figure></p>
<p>举个例子：</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/14/16054587a8907e9b?w=475&amp;h=234&amp;f=png&amp;s=4857" alt=""></p>
<p>比如我们A按钮已经确定好位置了。我们现在要放B按钮，就像我们上面说的，我们B按钮的二个边的位置，我们可以设置让B按钮的左边靠着A按钮的右边（相当于B按钮的左边与A按钮的右边处于同一位置）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:id=&quot;@+id/buttonA&quot; ... /&gt;</span><br><span class="line"></span><br><span class="line">&lt;Button android:id=&quot;@+id/buttonB&quot; ...</span><br><span class="line">    app:layout_constraintLeft_toRightOf=&quot;@+id/buttonA&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p>我们可以看到<code>app:layout_constraintLeft_toRightOf=&quot;@+id/buttonA&quot;</code>，B的<code>left</code>与<code>id</code>为<code>buttonA</code>的控件的<code>right</code>相同位置。所以B的左侧就和A的右侧贴在了一起。</p>
<p><strong>我们发现上面还有一个<code>layout_constraintBaseline_toBaselineOf</code>，直接看下图就可以理解所有相关的属性：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/1606257f19a24a34?w=574&amp;h=155&amp;f=png&amp;s=7477" alt=""></strong></p>
<p>如果是相对于父布局，我们也可以不写入另外一个控件的id值，直接填parent值就可以了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout ...&gt;</span><br><span class="line">    &lt;Button android:id=&quot;@+id/button&quot; ...</span><br><span class="line">     app:layout_constraintLeft_toLeftOf=&quot;parent&quot;</span><br><span class="line">     /&gt;</span><br><span class="line"></span><br><span class="line">&lt;android.support.constraint.ConstraintLayout/&gt;</span><br></pre></td></tr></table></figure></p>
<p>所以以上就是基本的操作。我们接下来看下其他的特殊属性。</p>
<hr>
<h3 id="Margin值相关"><a href="#Margin值相关" class="headerlink" title="Margin值相关"></a>Margin值相关</h3><p>比如我们上面的A和B按钮通过了<code>app:layout_constraintLeft_toRightOf</code>拼接在一起了，但是我同时希望A和B按钮中间能空一些距离，如下图所示：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/160625f3bd1532c6?w=483&amp;h=143&amp;f=png&amp;s=4374" alt=""><br>我们可以直接使用:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">android:layout_marginStart</span><br><span class="line">android:layout_marginEnd</span><br><span class="line">android:layout_marginLeft</span><br><span class="line">android:layout_marginTop</span><br><span class="line">android:layout_marginRight</span><br><span class="line">android:layout_marginBottom</span><br></pre></td></tr></table></figure></p>
<p>这时候就又会有一个问题，如果这时候A的<code>visible</code>为<code>gone</code>,这时候B的位置就会自动往左边了。因为A的所占的宽度没有了（但是A在里面对于其他控件的约束性都是还是存在的）<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062f56eee9a3f2?w=540&amp;h=262&amp;f=png&amp;s=7147" alt="">但是如果我的需求就是A隐藏后，B还是在这个位置（当然有些人可能会说你可以让B根据其他控件来确定位置），而且我的B的位置就是根据A来确定的。那我们怎么处理，我们可以设置B的以下属性，就是当A处于<code>gone</code>的时候，我们可以让B的margin值是根据以下的属性值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">layout_goneMarginStart</span><br><span class="line">layout_goneMarginEnd</span><br><span class="line">layout_goneMarginLeft</span><br><span class="line">layout_goneMarginTop</span><br><span class="line">layout_goneMarginRight</span><br><span class="line">layout_goneMarginBottom</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="位置约束不止二个边"><a href="#位置约束不止二个边" class="headerlink" title="位置约束不止二个边"></a>位置约束不止二个边</h3><p>我们上面提过，二个边的位置确定好了（也可以说二个边的位置被约束了），我们就可以确定这个控件的相应位置，而且还可以通过margin的改变，来继续调节控件的位置。那如果我这时候是三个边约束或者四个边都约束了呢，比如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout ...&gt;</span><br><span class="line">    &lt;Button android:id=&quot;@+id/button&quot; ...</span><br><span class="line">     app:layout_constraintLeft_toLeftOf=&quot;parent&quot;</span><br><span class="line">     app:layout_constraintRight_toRightOf=&quot;parent/&gt;</span><br><span class="line"></span><br><span class="line">&lt;android.support.constraint.ConstraintLayout/&gt;</span><br></pre></td></tr></table></figure></p>
<p>我们让按钮的左边与父布局的左边对齐，让按钮的右边与父布局的右边对齐。这时候因为不是单纯的一边对齐，而是相同直线上的二个边都被约束了。所以按钮无法紧靠着左边的或者右边的其中一个边界，所以这时候，这个按钮就会居于二个约束边界的中间位置。如下图所示：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062d7ac0ba8af0?w=421&amp;h=97&amp;f=png&amp;s=2618" alt=""><br>也许也有人问，我想在这二个约束条件下时候不是处于正中间，而是处于左边三分之一的位置，这时候你可以使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">layout_constraintHorizontal_bias</span><br><span class="line">layout_constraintVertical_bias</span><br></pre></td></tr></table></figure></p>
<p>分别是水平和垂直方向上的所占比例。<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062e077f68081b?w=421&amp;h=97&amp;f=png&amp;s=2567" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout ...&gt;</span><br><span class="line">    &lt;Button android:id=&quot;@+id/button&quot; ...</span><br><span class="line">     app:layout_constraintHorizontal_bias=&quot;0.3&quot;</span><br><span class="line">     app:layout_constraintLeft_toLeftOf=&quot;parent&quot;</span><br><span class="line">     app:layout_constraintRight_toRightOf=&quot;parent/&gt;</span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="圆形布局"><a href="#圆形布局" class="headerlink" title="圆形布局"></a>圆形布局</h3><p>有些需求我们可能需要让控件以某个控件为中心，绕着进行布局，如下图所示：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062e33639abb69?w=325&amp;h=325&amp;f=png&amp;s=5813" alt=""><br>ConstarintLayout自带了这些功能，我们可以使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">layout_constraintCircle : 引用另一个控件的id</span><br><span class="line">layout_constraintCircleRadius : 距离另外一个控件中心的距离</span><br><span class="line">layout_constraintCircleAngle : 应该在哪个角度(从0到360度)</span><br></pre></td></tr></table></figure></p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16062e32e05ee6e3?w=325&amp;h=325&amp;f=png&amp;s=5863" alt=""><br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:id=&quot;@+id/buttonA&quot; ... /&gt;</span><br><span class="line">&lt;Button android:id=&quot;@+id/buttonB&quot; ...</span><br><span class="line">  app:layout_constraintCircle=&quot;@+id/buttonA&quot;</span><br><span class="line">  app:layout_constraintCircleRadius=&quot;100dp&quot;</span><br><span class="line">  app:layout_constraintCircleAngle=&quot;45&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="尺寸限制（Dimensions-constraints）"><a href="#尺寸限制（Dimensions-constraints）" class="headerlink" title="尺寸限制（Dimensions constraints）"></a>尺寸限制（Dimensions constraints）</h3><h5 id="1-对ConstraintLayout进行限制："><a href="#1-对ConstraintLayout进行限制：" class="headerlink" title="1.对ConstraintLayout进行限制："></a>1.对ConstraintLayout进行限制：</h5><p>您可以为ConstraintLayout本身定义最小和最大尺寸：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">android：minWidth设置布局的最小宽度</span><br><span class="line">android：minHeight设置布局的最小高度</span><br><span class="line">android：maxWidth设置布局的最大宽度</span><br><span class="line">android：maxHeight设置布局的最大高度</span><br></pre></td></tr></table></figure></p>
<p>这些最小和最大尺寸将在ConstraintLayout使用</p>
<h5 id="2-对内部的控件进行限制："><a href="#2-对内部的控件进行限制：" class="headerlink" title="2.对内部的控件进行限制："></a>2.对内部的控件进行限制：</h5><p>可以通过以3种不同方式设置<code>android：layout_width</code>和<code>android：layout_height</code>属性来指定控件的尺寸：</p>
<ul>
<li>用特定的值（如123dp等）</li>
<li>使用WRAP_CONTENT，它会要求控件计算自己的大小</li>
<li><p>使用0dp，相当于“MATCH_CONSTRAINT”</p>
<p><strong>WRAP_CONTENT（在1.1中添加）</strong></p>
<p>如果设置为WRAP_CONTENT，则在1.1之前的版本中， 约束不会限制生成的尺寸值。但是在某些情况下，您可能需要使用WRAP_CONTENT，但仍然执行约束来限制生成的尺寸值。在这种情况下，你可以添加一个相应的属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">应用：layout_constrainedWidth =”真|假”</span><br><span class="line">应用：layout_constrainedHeight =”真|假”</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>MATCH_CONSTRAINT尺寸(也就是0dp)（在1.1中添加）</strong></p>
<p>设置为MATCH_CONSTRAINT时，默认是大小是占用所有可用空间。有几个额外的修饰符可用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">layout_constraintWidth_min和layout_constraintHeight_min：将设置此维度的最小尺寸</span><br><span class="line">layout_constraintWidth_max和layout_constraintHeight_max：将设置此维度的最大尺寸</span><br><span class="line">layout_constraintWidth_percent和layout_constraintHeight_percent：将设置此维度的大小为父级的百分比</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="百分比尺寸（Percent-Dimensions）"><a href="#百分比尺寸（Percent-Dimensions）" class="headerlink" title="百分比尺寸（Percent Dimensions）"></a>百分比尺寸（Percent Dimensions）</h3><p>说到Percent Dimensions就不得不说ConstraintLayout中的0dp问题，当控件设置为0dp的时候（0dp的称呼又叫match_constraint），默认的行为是撑开（spread），占满可用空间，但是这个行为是可以用layout_constraintWidth_default 属性来设置的。在 ConstraintLayout 1.0.x中，这个属性还可以把它设置为wrap。而到了1.1.x，它又有了一个新的值：percent，允许我们设置控件占据可用空间的百分比。</p>
<blockquote>
<p>（注意：这在1.1-beta1和1.1-beta2中layout_constraintWidth_default是必须的，但是如果percent属性被定义,则在以下版本中不需要，然后将layout_constraintWidth_percent或layout_constraintHeight_percent属性设置为介于0和1之间的值）</p>
</blockquote>
<p>下面的TextView控件将占据剩余宽度的50%和剩余高度的50%:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">  android:id=&quot;@+id/textView6&quot;</span><br><span class="line">  android:layout_width=&quot;0dp&quot;</span><br><span class="line">  android:layout_height=&quot;0dp&quot;</span><br><span class="line"></span><br><span class="line">  app:layout_constraintHeight_default=&quot;percent&quot;</span><br><span class="line">  app:layout_constraintHeight_percent=&quot;0.5&quot;</span><br><span class="line"></span><br><span class="line">  app:layout_constraintWidth_default=&quot;percent&quot;</span><br><span class="line">  app:layout_constraintWidth_percent=&quot;0.5&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="宽高比（Ratio）"><a href="#宽高比（Ratio）" class="headerlink" title="宽高比（Ratio）"></a>宽高比（Ratio）</h3><p>您还可以控制控件的height或者width这二个值，让其中一个值与另外一个值的成特定的比例。为此，需要至少将一个值设置为0dp（即，MATCH_CONSTRAINT），并将属性layout_constraintDimensionRatio设置为给定比率。例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">   android:layout_height=&quot;0dp&quot;</span><br><span class="line">   app:layout_constraintDimensionRatio=&quot;1:1&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p>这样这个按钮的宽和高是一样大小的。</p>
<p><strong>Ratio可以设置为：</strong></p>
<ul>
<li>浮点值，表示宽度和高度之间的比率</li>
<li>“宽度：高度”形式的比率</li>
</ul>
<p><strong>如果两个维都设置为MATCH_CONSTRAINT（0dp），则也可以使用比率：</strong> 在这种情况下，系统设置满足所有约束条件的最大尺寸并保持指定的宽高比。</p>
<p><strong>为了约束一个特定的边，可以根据另一个边的大小来限定宽度或高度：</strong><br>可以通过在比率前面添加字母W（用于限制宽度）或H（用于限制高度），用逗号分隔来指示哪一边应该受到约束：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:layout_width=&quot;0dp&quot;</span><br><span class="line">   android:layout_height=&quot;0dp&quot;</span><br><span class="line">   app:layout_constraintDimensionRatio=&quot;H,16:9&quot;</span><br><span class="line">   app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</span><br><span class="line">   app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;</span><br></pre></td></tr></table></figure></p>
<p>将按照16：9的比例设置按钮的高度，而按钮的宽度将匹配父布局的约束。</p>
<hr>
<h3 id="链（Chains）"><a href="#链（Chains）" class="headerlink" title="链（Chains）"></a>链（Chains）</h3><p>链在单个轴（水平或垂直）中提供类似组的行为。</p>
<ul>
<li><strong>创建一个链:</strong><br>如果一组小部件通过双向连接链接在一起，则认为它们是一个链,如下图所示，是一个具有二个控件的最小的链：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16064ae82e58df64?w=630&amp;h=174&amp;f=png&amp;s=6494" alt=""></li>
<li><strong>链头:</strong><br>链由在链的第一个元素（链的“头”）上设置的属性控制：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16064afa73faf3bd?w=917&amp;h=135&amp;f=png&amp;s=7722" alt=""><br>（头是水平链最左边的部件，也是垂直链最顶端的部件。）</li>
<li><strong>链样式:</strong> 在链的第一个元素上设置属性<code>layout_constraintHorizontal_chainStyle</code>或<code>layout_constraintVertical_chainStyle</code>时，链的行为将根据指定的样式进行更改（默认为CHAIN_SPREAD）。<img src="https://user-gold-cdn.xitu.io/2017/12/17/16064b751691da00?w=1368&amp;h=616&amp;f=png&amp;s=45202" alt="">例如：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;android.support.constraint.ConstraintLayout</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/textView2&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:text=&quot;AAAA&quot;</span><br><span class="line">        app:layout_constraintHorizontal_chainStyle=&quot;spread&quot;</span><br><span class="line">        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</span><br><span class="line">        app:layout_constraintStart_toStartOf=&quot;parent&quot;</span><br><span class="line">        app:layout_constraintEnd_toStartOf=&quot;@id/textView3&quot;</span><br><span class="line">        /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/textView3&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:text=&quot;BBBB&quot;</span><br><span class="line">        app:layout_constraintEnd_toStartOf=&quot;@id/textView4&quot;</span><br><span class="line">        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</span><br><span class="line">        app:layout_constraintStart_toEndOf=&quot;@+id/textView2&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/textView4&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:text=&quot;CCCC&quot;</span><br><span class="line">        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</span><br><span class="line">        app:layout_constraintEnd_toEndOf=&quot;parent&quot;</span><br><span class="line">        app:layout_constraintStart_toEndOf=&quot;@+id/textView3&quot; /&gt;</span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>效果如下：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16064b9f18dea5be?w=686&amp;h=280&amp;f=png&amp;s=14729" alt=""></p>
<hr>
<h3 id="屏障-Barrier"><a href="#屏障-Barrier" class="headerlink" title="屏障 (Barrier)"></a>屏障 (Barrier)</h3><p>Barrier是一个虚拟的辅助控件，它可以阻止一个或者多个控件越过自己，就像一个屏障一样。当某个控件要越过自己的时候，Barrier会自动移动，避免自己被覆盖。</p>
<p>关于这个控件其他文章有详细的介绍，我直接附上地址：<br> <a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2017/1017/8601.html" target="_blank" rel="noopener"><strong>ConstraintLayout之Barrier</strong></a>。</p>
<hr>
<h3 id="组（Group）"><a href="#组（Group）" class="headerlink" title="组（Group）"></a>组（Group）</h3><p>Group帮助你对一组控件进行设置。最常见的情况是控制一组控件的visibility。你只需把控件的id添加到Group，就能同时对里面的所有控件进行操作。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout ...&gt;</span><br><span class="line">  &lt;TextView</span><br><span class="line">    android:id=”@+id/text1&quot; ... /&gt;</span><br><span class="line">  &lt;TextView</span><br><span class="line">    android:id=”@+id/text2&quot; ... /&gt;</span><br><span class="line">  &lt;android.support.constraint.Group</span><br><span class="line">    android:id=”@+id/group”</span><br><span class="line">    ...</span><br><span class="line">    app:constraint_referenced_ids=”text1,text2&quot; /&gt;</span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure></p>
<p>此时如果我们调用<code>group.setVisibility(View.GONE);</code>那么text1 和 text2 都将不可见。</p>
<hr>
<h3 id="Guideline"><a href="#Guideline" class="headerlink" title="Guideline"></a>Guideline</h3><p>ConstraintLayout的辅助对象的实用程序类。Guideline不会显示在设备上（它们被标记为View.GONE），仅用于布局。他们只能在ConstraintLayout中工作。</p>
<p>指引可以是水平的也可以是垂直的：<br>垂直指南的宽度为零，它们的ConstraintLayout父项的高度为零<br>水平指南的高度为零，其ConstraintLayout父项的宽度为零<br><strong>定位准则有三种不同的方式：</strong></p>
<ul>
<li>指定布局左侧或顶部的固定距离（layout_constraintGuide_begin）</li>
<li>从布局的右侧或底部指定固定距离（layout_constraintGuide_end）</li>
<li>指定布局的宽度或高度的百分比（layout_constraintGuide_percent）<blockquote>
<p>相应的代码为setGuidelineBegin（int，int），setGuidelineEnd（int，int）和setGuidelinePercent（int，float）函数。</p>
</blockquote>
</li>
</ul>
<p>然后控件就可以被Guideline来约束。（换句话就是说弄了一个隐藏的View，来约束我们的控件，我们的控件相对的就更容易进行位置定位）。</p>
<p><strong>限制于垂直Guideline的按钮示例：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout</span><br><span class="line">        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">        xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;android.support.constraint.Guideline</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:id=&quot;@+id/guideline&quot;</span><br><span class="line">            app:layout_constraintGuide_begin=&quot;100dp&quot;</span><br><span class="line">            android:orientation=&quot;vertical&quot;/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Button</span><br><span class="line">            android:text=&quot;Button&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:id=&quot;@+id/button&quot;</span><br><span class="line">            app:layout_constraintLeft_toLeftOf=&quot;@+id/guideline&quot;</span><br><span class="line">            android:layout_marginTop=&quot;16dp&quot;</span><br><span class="line">            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="Placeholder"><a href="#Placeholder" class="headerlink" title="Placeholder"></a>Placeholder</h3><p>大家具体使用可以看这篇文章：<br><a href="http://androidkt.com/constraintlayout/" target="_blank" rel="noopener"><strong>New features in ConstraintLayout 1.1.x</strong></a>。<br>我以下Placeholder内容也就转载这个文章里面的例子：</p>
<p>Placeholder顾名思义，就是用来一个占位的东西，它可以把自己的内容设置为ConstraintLayout内的其它view。因此它用来写布局的模版，也可以用来动态修改UI的内容。</p>
<p><strong>用作模版：</strong><br>我们用Placeholder创建一个名为template.xml的模版：</p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16064c4afd14aeaf?w=769&amp;h=631&amp;f=png&amp;s=27768" alt=""><br>模版写好了我们来填充真正的东西。</p>
<p>我们把刚才定义的模版include到真正的布局文件中，并且在这个布局文件中添加真实的控件，注意这里的控件无需添加任何约束，因为它们的位置是由Placeholder决定的。</p>
<p>还有一点就是模版要放在被引用的所有控件之前：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">    android:id=&quot;@+id/root&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;</span><br><span class="line">    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;</span><br><span class="line">    tools:context=&quot;com.app.androidkt.constraintlayoutb.MainActivity&quot;</span><br><span class="line">    tools:showIn=&quot;@layout/activity_main&quot;&gt;</span><br><span class="line">    &lt;include layout=&quot;@layout/template&quot; /&gt;</span><br><span class="line">    &lt;ImageView</span><br><span class="line">        android:id=&quot;@+id/top_image&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:scaleType=&quot;fitXY&quot;</span><br><span class="line">        android:src=&quot;@drawable/place_holder_demo&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ImageButton</span><br><span class="line">        android:id=&quot;@+id/save&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginBottom=&quot;16dp&quot;</span><br><span class="line">        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</span><br><span class="line">        app:srcCompat=&quot;@drawable/ic_save_black_24dp&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ImageButton</span><br><span class="line">        android:id=&quot;@+id/edit&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        app:srcCompat=&quot;@drawable/ic_edit_black_24dp&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ImageButton</span><br><span class="line">        android:id=&quot;@+id/cancel&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginBottom=&quot;16dp&quot;</span><br><span class="line"></span><br><span class="line">        app:srcCompat=&quot;@drawable/ic_cancel_black_24dp&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ImageButton</span><br><span class="line">        android:id=&quot;@+id/delete&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_marginBottom=&quot;16dp&quot;</span><br><span class="line"></span><br><span class="line">        app:srcCompat=&quot;@drawable/ic_delete_black_24dp&quot; /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/android.support.constraint.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure></p>
<p><img src="https://user-gold-cdn.xitu.io/2017/12/17/16064c59dc20a1e7?w=769&amp;h=635&amp;f=png&amp;s=176545" alt=""><br>以上就是PlaceHolder的使用场景之一模版功能。</p>
<p><strong>动态替换:</strong><br>PlaceHolder还可以在Java代码中动态替换自己的内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line">  private Placeholder placeholder;</span><br><span class="line">  private ConstraintLayout root;</span><br><span class="line">  @Override</span><br><span class="line">  public void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">    super.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  public void onClick(View view) &#123;</span><br><span class="line">    placeholder.setContentId(view.getId());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如果结合过渡动画的话，就可以实现一些比较有趣的效果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line">  private Placeholder placeholder;</span><br><span class="line">  private ConstraintLayout root;</span><br><span class="line">  @Override</span><br><span class="line">  public void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">    super.onCreate(savedInstanceState);</span><br><span class="line">    setContentView(R.layout.activity_main);</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  public void onClick(View view) &#123;</span><br><span class="line">    TransitionManager.beginDelayedTransition(root);</span><br><span class="line">    placeholder.setContentId(view.getId());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>下面是使用PlaceHolder结合过渡动画实现的效果：<br><img src="https://user-gold-cdn.xitu.io/2017/12/17/16064c793341a380?w=480&amp;h=854&amp;f=gif&amp;s=510684" alt=""><br>而这个Demo也是上面那篇文章作者附上的，Demo地址是<a href="https://github.com/Thumar/Placeholder" target="_blank" rel="noopener"><strong>PlaceHolder动态替换</strong></a></p>
<hr>
<h3 id="结语："><a href="#结语：" class="headerlink" title="结语："></a>结语：</h3><p>还是老话，哪里不对。可以在留言处写出来。我会进行更正，哈哈。</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted" style="font-size: medium">
          相关传送地址：
        </p>

        <p class="copyright text-muted" style="font-size: medium">
          <a href="http://www.jianshu.com/u/5aad180d1ea8">简书个人链接</a>
          <a href="https://juejin.im/user/56e0cd86f3609a0054e4a3c4">掘金个人链接</a>
        </p>


        <p class="copyright text-muted" style="display: none">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted" style="display: none">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

